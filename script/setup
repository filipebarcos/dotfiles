#!/usr/bin/env bash
#
# Run all dotfiles installers.

set -e
DOTFILES_ROOT="`pwd`"

echo "  ğŸ”¨ Creating required folders..."
[ -d ~/tmp ] || mkdir ~/tmp
[ -d ~/src ] || mkdir ~/src
if [[ ! -a ~/.config ]]
then
  mkdir ~/.config
  mkdir ~/.config/local
  mkdir ~/.config/local/share
  mkdir ~/.config/cache
  mkdir ~/.config/zsh
  mkdir ~/.config/alacritty
  mkdir ~/.config/nvim
fi
echo "  âœ… Done creating required folders!"

echo "  ğŸ”— Linking files..."
sh -c "$DOTFILES_ROOT/script/link"
echo "  âœ… Done with links"

echo "  ğŸ¤ Starting with the installers..."
# Install all dependencies
for file in installers/*; do
  sh -c $file
done

echo "  ğŸš€ We're all done and you're ready to rock! ğŸ¤˜ğŸ»"
